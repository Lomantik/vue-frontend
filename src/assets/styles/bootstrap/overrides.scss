@use 'sass:map';
@use 'sass:color';
@use "../tokens/variables" as *;

$container-max-widths: $custom-container-max-widths;
$spacers: $custom-spacers;
$theme-colors: $custom-theme-colors;

$body-bg: map.get($custom-theme-colors, 'white');
$body-color: color('primary');
$body-font-family: font-family('base');
$body-font-size: font-size(17);
$breadcrumb-active-color: color('primary');
$breadcrumb-color: color('muted');
$btn-color: color('primary');
$btn-font-family: font-family('base');
$btn-link-color: color('primary');
$dropdown-font-size: font-size(14);
$dropdown-link-active-bg: background('none');
$dropdown-link-active-color: color('grey');
$dropdown-link-active-hover-color: color('blue');
$dropdown-link-hover-bg: background('none');
$dropdown-link-hover-color: color('blue');
$dropdown-link-line-height: line-height('1_1');
$grid-gutter-width: gutter(30);
$headings-color: color('primary');
$headings-font-family: font-family('bitter');
$input-color: color('primary');
$input-font-family: font-family('base');
$input-placeholder-color: color('muted');
$line-height-base: map.get($custom-line-height, 'base');
$link-color: color('primary');
$link-hover-color: color('blue');
$nav-link-color: color('primary');
$nav-link-font-family: font-family('base');
$nav-link-hover-color: color('blue');
$navbar-light-active-color: color('grey');
$navbar-light-color: color('primary');
$navbar-light-hover-color: color('blue');
$navbar-nav-link-padding-x: spacer(20);
$spacer: spacer(3);
$text-color: color('primary');
$text-muted: color('muted');

/* Bootstrap required */
@import "../../../../node_modules/bootstrap/scss/functions";
@import "../../../../node_modules/bootstrap/scss/variables";
@import "../../../../node_modules/bootstrap/scss/maps";
@import "../../../../node_modules/bootstrap/scss/mixins";

/* Bootstrap utilities */
@import "../../../../node_modules/bootstrap/scss/utilities";

$aspect-ratios: map-merge(
    $aspect-ratios,
    $custom-aspect-ratios
);
$gutters: map-merge(
    $gutters,
    $custom-gutters
);
$position-values: map-merge(
    $position-values,
    $custom-position
);

$utilities: map-merge(
    $utilities,
    (
      "background": (
        property: background,
        class: background,
        responsive: true,
        values: $custom-background
      ),
      "border": (
        property: border,
        class: border,
        responsive: true,
        values: $custom-border
      ),
      "border-radius": (
        property: border-radius,
        class: border-radius,
        responsive: true,
        values: $custom-border-radius
      ),
      "content": (
        property: content,
        class: content,
        responsive: true,
        values: $custom-content
      ),
      "fill": (
        property: fill,
        class: fill,
        responsive: true,
        values: $custom-theme-colors
      ),
      "font-family": (
        property: font-family,
        class: font-family,
        responsive: true,
        values: $custom-font-family
      ),
      "height": map-merge(
          map-get($utilities, "height"),
          (
            responsive: true,
            values: map-merge(
                map-get(map-get($utilities, "height"), "values"),
                $custom-height
            )
          )
      ),
      "left": (
        property: left,
        class: left,
        responsive: true,
        values: $custom-spacers
      ),
      "letter-spacing": (
        property: letter-spacing,
        class: ls,
        responsive: true,
        values: $custom-letter-spacings
      ),
      "line-height": (
        property: line-height,
        class: lh,
        values: $custom-line-height
      ),
      "max-height": (
        property: max-height,
        class: mh,
        values: $custom-height
      ),
      "max-width": (
        property: max-width,
        class: mw,
        values: $custom-width
      ),
      "min-height": (
        property: min-height,
        class: min-h,
        values: $custom-height
      ),
      "min-viewport-height": (
        property: min-height,
        class: min-vh,
        values: $custom-viewport-height
      ),
      "min-width": (
        property: min-width,
        class: min-w,
        values: $custom-width
      ),
      "opacity": map-merge(
          map-get($utilities, "opacity"),
          (
            values: map-merge(
                map-get(map-get($utilities, "opacity"), "values"),
                $custom-opacity
            )
          )
      ),
      "pointer-events": (
        property: pointer-events,
        class: pe,
        responsive: true,
        values: $custom-pointer-events
      ),
      "stroke": (
        property: stroke,
        class: stroke,
        responsive: true,
        values: $custom-theme-colors
      ),
      "text-opacity": (
        property: --bs-text-opacity,
        class: text-opacity,
        values: $custom-opacity
      )
    ));

/* Utilities API (classes generation) */
@import "../../../../node_modules/bootstrap/scss/utilities/api";

/* Other Bootstrap */
@import "../../../../node_modules/bootstrap/scss/bootstrap";

:root {
  --bs-body-font-family: #{font-family('base')};
  --bs-body-color: #{color('primary')};
  --bs-body-bg: #{color('white')};

  --bs-heading-color: #{color('primary')};

  --bs-link-color: #{color('primary')};
  --bs-link-hover-color: color('blue');

  --color-accent: color('primary');
}
